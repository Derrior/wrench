User DocumentationOther\+: \href{../developer/guide-baremetal.html}{\tt Developer} -\/ \href{../internal/guide-baremetal.html}{\tt Internal}\hypertarget{guide-baremetal_guide-baremetal-overview}{}\section{Overview}\label{guide-baremetal_guide-baremetal-overview}
A bare-\/metal is a service that makes it possible to run directly jobs on hardware resources. Think of it as a set of multi-\/core hosts on which multi-\/threaded processes can be started using something like Ssh. The service does not perform any space-\/sharing among the jobs. In other words, jobs submitted to the service execute concurrently in a time-\/shared manner. It is the responsibility of the job submitter to pick hosts and/or numbers of cores for each task, e.\+g., to enforce space-\/sharing of cores. The only resource allocation performed by the service is that it ensures that the R\+AM capacity of a host is not exceeded. Tasks that have non-\/zero R\+AM requirements are queued in F\+C\+FS fashion at each host until there is enough R\+AM to execute them (think of this as each host running an OS that disallows swapping and implements a F\+C\+FS access policy for R\+AM allocation).\hypertarget{guide-baremetal_guide-baremetal-creating}{}\section{Creating a bare-\/metal compute service}\label{guide-baremetal_guide-baremetal-creating}
In W\+R\+E\+N\+CH, a bare-\/metal service represents a compute service ({\ttfamily \hyperlink{classwrench_1_1_compute_service}{wrench\+::\+Compute\+Service}}), which is defined by the {\ttfamily \hyperlink{classwrench_1_1_bare_metal_compute_service}{wrench\+::\+Bare\+Metal\+Compute\+Service}} class. An instantiation of a bare-\/metal service requires the following parameters\+:


\begin{DoxyItemize}
\item The name of a host on which to start the service (this is the entry point to the service);
\item A set of compute hosts in a map ({\ttfamily std\+::map}), where each key is a hostname and each value is a tuple ({\ttfamily std\+::tuple}) with a number of cores and a R\+AM capacity.
\item A scratch space size, i.\+e., the size in bytes of storage local to the bare-\/metal service (used to store workflow files, as needed, during job executions)
\item Maps ({\ttfamily std\+::map}) of configurable properties ({\ttfamily \hyperlink{classwrench_1_1_bare_metal_compute_service_property}{wrench\+::\+Bare\+Metal\+Compute\+Service\+Property}}) and configurable message payloads ({\ttfamily \hyperlink{classwrench_1_1_bare_metal_compute_service_message_payload}{wrench\+::\+Bare\+Metal\+Compute\+Service\+Message\+Payload}}).
\end{DoxyItemize}

The example below shows how to create an instance of a bare-\/metal service that runs on host \char`\"{}\+Gateway\char`\"{}, provides access to 4 cores and 1\+GiB of R\+AM on host \char`\"{}\+Node1\char`\"{} and to 8 cores and 4\+GiB of R\+AM on host \char`\"{}\+Node2\char`\"{}, and has a scratch space of 1\+TiB. Furthermore, the thread startup overhead is configured to be one hundredth of a second\+:


\begin{DoxyCode}
\textcolor{keyword}{auto} baremetal\_cs = simulation->add(
          \textcolor{keyword}{new} \hyperlink{classwrench_1_1_bare_metal_compute_service}{wrench::BareMetalComputeService}(\textcolor{stringliteral}{"Gateway"}, 
                                       \{\{\textcolor{stringliteral}{"Node1"}, std::make\_tuple(4, pow(2,30))\}, \{\textcolor{stringliteral}{"Node2"}, std::make\_tuple
      (8, pow(2,32)\}\},
                                       pow(2,40),
                                       \{\{
      \hyperlink{classwrench_1_1_bare_metal_compute_service_property_a63dfaa7ebb4dc18d236c58384f14dd25}{wrench::BareMetalComputeServiceProperty::THREAD\_STARTUP\_OVERHEAD}
      , \textcolor{stringliteral}{"0.01"}\}\}, 
                                       \{\});
\end{DoxyCode}
\hypertarget{guide-batch_guide-baremetal-creating-properties}{}\subsection{Bare-\/metal service properties}\label{guide-batch_guide-baremetal-creating-properties}
In addition to properties inherited from {\ttfamily \hyperlink{classwrench_1_1_compute_service_property}{wrench\+::\+Compute\+Service\+Property}}, a bare-\/metal service supports the following properties\+:


\begin{DoxyItemize}
\item {\ttfamily \hyperlink{classwrench_1_1_bare_metal_compute_service_property_a63dfaa7ebb4dc18d236c58384f14dd25}{wrench\+::\+Bare\+Metal\+Compute\+Service\+Property\+::\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+R\+T\+U\+P\+\_\+\+O\+V\+E\+R\+H\+E\+AD}} 
\end{DoxyItemize}