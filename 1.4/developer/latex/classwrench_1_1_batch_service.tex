\hypertarget{classwrench_1_1_batch_service}{}\section{wrench\+:\+:Batch\+Service Class Reference}
\label{classwrench_1_1_batch_service}\index{wrench\+::\+Batch\+Service@{wrench\+::\+Batch\+Service}}


A batch-\/scheduled compute service that manages a set of compute hosts and controls access to their resource via a batch queue.  




{\ttfamily \#include $<$Batch\+Service.\+h$>$}

Inheritance diagram for wrench\+:\+:Batch\+Service\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{classwrench_1_1_batch_service}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classwrench_1_1_batch_service_a2f91405c977001fa52acda0fe849f143}{Batch\+Service} (std\+::string \&hostname, std\+::vector$<$ std\+::string $>$ compute\+\_\+hosts, double scratch\+\_\+space\+\_\+size, std\+::map$<$ std\+::string, std\+::string $>$ property\+\_\+list=\{\}, std\+::map$<$ std\+::string, std\+::string $>$ messagepayload\+\_\+list=\{\})
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
std\+::map$<$ std\+::string, double $>$ \hyperlink{classwrench_1_1_batch_service_aef66984e61f6d36276ee8ae38ece8266}{get\+Start\+Time\+Estimates} (std\+::set$<$ std\+::tuple$<$ std\+::string, unsigned int, unsigned int, double $>$$>$)
\begin{DoxyCompactList}\small\item\em Retrieve start time estimates for a set of job configurations. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A batch-\/scheduled compute service that manages a set of compute hosts and controls access to their resource via a batch queue. 

In the current implementation of this service, like for many of its real-\/world counterparts, memory partitioning among jobs on the same host is not handled. When multiple jobs share hosts, which can happen when jobs require only a few cores per host and can thus be co-\/located on the same hosts in a non-\/exclusive fashion, each job simply runs as if it had access to the full R\+AM of each compute host it is scheduled on. The simulation of these memory contended scenarios is thus, for now, not realistic as there is no simulation of the effects of memory sharing (e.\+g., swapping). 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classwrench_1_1_batch_service_a2f91405c977001fa52acda0fe849f143}\label{classwrench_1_1_batch_service_a2f91405c977001fa52acda0fe849f143}} 
\index{wrench\+::\+Batch\+Service@{wrench\+::\+Batch\+Service}!Batch\+Service@{Batch\+Service}}
\index{Batch\+Service@{Batch\+Service}!wrench\+::\+Batch\+Service@{wrench\+::\+Batch\+Service}}
\subsubsection{\texorpdfstring{Batch\+Service()}{BatchService()}}
{\footnotesize\ttfamily wrench\+::\+Batch\+Service\+::\+Batch\+Service (\begin{DoxyParamCaption}\item[{std\+::string \&}]{hostname,  }\item[{std\+::vector$<$ std\+::string $>$}]{compute\+\_\+hosts,  }\item[{double}]{scratch\+\_\+space\+\_\+size,  }\item[{std\+::map$<$ std\+::string, std\+::string $>$}]{property\+\_\+list = {\ttfamily \{\}},  }\item[{std\+::map$<$ std\+::string, std\+::string $>$}]{messagepayload\+\_\+list = {\ttfamily \{\}} }\end{DoxyParamCaption})}



Constructor. 


\begin{DoxyParams}{Parameters}
{\em hostname} & the hostname on which to start the service \\
\hline
{\em compute\+\_\+hosts} & the list of names of the available compute hosts
\begin{DoxyItemize}
\item the hosts must be homogeneous (speed, number of cores, and R\+AM size)
\item all cores are usable by the batch service on each host
\item all R\+AM is usable by the batch service on each host 
\end{DoxyItemize}\\
\hline
{\em scratch\+\_\+space\+\_\+size} & the size for the scratch storage space for the service (0 means \char`\"{}no scratch space\char`\"{}) \\
\hline
{\em property\+\_\+list} & a property list that specifies \hyperlink{classwrench_1_1_batch_service_property}{Batch\+Service\+Property} values (\{\} means \char`\"{}use all defaults\char`\"{}) \\
\hline
{\em messagepayload\+\_\+list} & a message payload list that specifies \hyperlink{classwrench_1_1_batch_service_message_payload}{Batch\+Service\+Message\+Payload} values (\{\} means \char`\"{}use all defaults\char`\"{}) \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classwrench_1_1_batch_service_aef66984e61f6d36276ee8ae38ece8266}\label{classwrench_1_1_batch_service_aef66984e61f6d36276ee8ae38ece8266}} 
\index{wrench\+::\+Batch\+Service@{wrench\+::\+Batch\+Service}!get\+Start\+Time\+Estimates@{get\+Start\+Time\+Estimates}}
\index{get\+Start\+Time\+Estimates@{get\+Start\+Time\+Estimates}!wrench\+::\+Batch\+Service@{wrench\+::\+Batch\+Service}}
\subsubsection{\texorpdfstring{get\+Start\+Time\+Estimates()}{getStartTimeEstimates()}}
{\footnotesize\ttfamily std\+::map$<$ std\+::string, double $>$ wrench\+::\+Batch\+Service\+::get\+Start\+Time\+Estimates (\begin{DoxyParamCaption}\item[{std\+::set$<$ std\+::tuple$<$ std\+::string, unsigned int, unsigned int, double $>$$>$}]{set\+\_\+of\+\_\+jobs }\end{DoxyParamCaption})}



Retrieve start time estimates for a set of job configurations. 


\begin{DoxyParams}{Parameters}
{\em set\+\_\+of\+\_\+jobs} & the set of job configurations, each of them with an id. Each configuration is a tuple as follows\+:
\begin{DoxyItemize}
\item a configuration id (std\+::string)
\item a number of hosts (unsigned int)
\item a number of cores per host (unsigned int)
\item a duration in seconds (double) 
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
start date predictions in seconds (as a map of ids). A prediction that\textquotesingle{}s negative means that the job configuration can not run on the service (e.\+g., not enough hosts, not enough cores per host) 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/rafsilva/\+Documents/isi/workspace/wrench/wrench/include/wrench/services/compute/batch/Batch\+Service.\+h\item 
/\+Users/rafsilva/\+Documents/isi/workspace/wrench/wrench/src/wrench/services/compute/batch/Batch\+Service.\+cpp\end{DoxyCompactItemize}
