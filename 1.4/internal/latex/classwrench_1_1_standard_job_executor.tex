\hypertarget{classwrench_1_1_standard_job_executor}{}\section{wrench\+:\+:Standard\+Job\+Executor Class Reference}
\label{classwrench_1_1_standard_job_executor}\index{wrench\+::\+Standard\+Job\+Executor@{wrench\+::\+Standard\+Job\+Executor}}


A service that knows how to execute a standard job on a multi-\/node multi-\/core platform. Note that when killed in the middle of computing, this service will set (internal) running tasks\textquotesingle{} states to F\+A\+I\+L\+ED, and likely the calling service will want to make failed tasks R\+E\+A\+DY and N\+O\+T\+\_\+\+R\+E\+A\+DY again to \char`\"{}unwind\char`\"{} the failed executions and resubmit tasks for execution. Also, this service does not increment task failure counts, as it does not know if the \hyperlink{classwrench_1_1_standard_job_executor_aec6a1864dacefd357399bc058e3ae08f}{kill()} was an actual failure (i.\+e., some timeout) or a feature (i.\+e., a \hyperlink{classwrench_1_1_w_m_s}{W\+MS} changing its mind)  




{\ttfamily \#include $<$Standard\+Job\+Executor.\+h$>$}

Inheritance diagram for wrench\+:\+:Standard\+Job\+Executor\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classwrench_1_1_standard_job_executor}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classwrench_1_1_standard_job_executor_aed90b8b3216347ac11693ade98317eb7}{Standard\+Job\+Executor} (\hyperlink{classwrench_1_1_simulation}{Simulation} $\ast$\hyperlink{classwrench_1_1_s4_u___daemon_a305beca7ad2fb650ad1492b7c95e93c4}{simulation}, std\+::string callback\+\_\+mailbox, std\+::string \hyperlink{classwrench_1_1_s4_u___daemon_a52bc0b9a6cd248310749dac086819f00}{hostname}, \hyperlink{classwrench_1_1_standard_job}{Standard\+Job} $\ast$job, std\+::map$<$ std\+::string, std\+::tuple$<$ unsigned long, double $>$$>$ compute\+\_\+resources, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$scratch\+\_\+space, bool part\+\_\+of\+\_\+pilot\+\_\+job, \hyperlink{classwrench_1_1_pilot_job}{Pilot\+Job} $\ast$parent\+\_\+pilot\+\_\+job, std\+::map$<$ std\+::string, std\+::string $>$ property\+\_\+list, std\+::map$<$ std\+::string, std\+::string $>$ \hyperlink{classwrench_1_1_service_a63865f20c92027ab626ab1347b0099d2}{messagepayload\+\_\+list})
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwrench_1_1_standard_job_executor_ad3846a691cac82efeaebde4dc7b89a2d}\label{classwrench_1_1_standard_job_executor_ad3846a691cac82efeaebde4dc7b89a2d}} 
\hyperlink{classwrench_1_1_standard_job_executor_ad3846a691cac82efeaebde4dc7b89a2d}{$\sim$\+Standard\+Job\+Executor} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
std\+::map$<$ std\+::string, std\+::tuple$<$ unsigned long, double $>$ $>$ \hyperlink{classwrench_1_1_standard_job_executor_ae6ea189c8107ee3c8288185d8e6de8f7}{get\+Compute\+Resources} ()
\begin{DoxyCompactList}\small\item\em Get the executor\textquotesingle{}s compute resources. \end{DoxyCompactList}\item 
std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$ $>$ \hyperlink{classwrench_1_1_standard_job_executor_a655565a462444bbf5bd6f9fd426f273f}{get\+Files\+In\+Scratch} ()
\begin{DoxyCompactList}\small\item\em Get the set of files stored in scratch space during the standard job\textquotesingle{}s execution. \end{DoxyCompactList}\item 
\hyperlink{classwrench_1_1_standard_job}{Standard\+Job} $\ast$ \hyperlink{classwrench_1_1_standard_job_executor_ad2a9733a6c1b68007c13f71d75c7805f}{get\+Job} ()
\begin{DoxyCompactList}\small\item\em Get the executor\textquotesingle{}s job. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwrench_1_1_standard_job_executor_aec6a1864dacefd357399bc058e3ae08f}\label{classwrench_1_1_standard_job_executor_aec6a1864dacefd357399bc058e3ae08f}} 
void \hyperlink{classwrench_1_1_standard_job_executor_aec6a1864dacefd357399bc058e3ae08f}{kill} ()
\begin{DoxyCompactList}\small\item\em Kill the executor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A service that knows how to execute a standard job on a multi-\/node multi-\/core platform. Note that when killed in the middle of computing, this service will set (internal) running tasks\textquotesingle{} states to F\+A\+I\+L\+ED, and likely the calling service will want to make failed tasks R\+E\+A\+DY and N\+O\+T\+\_\+\+R\+E\+A\+DY again to \char`\"{}unwind\char`\"{} the failed executions and resubmit tasks for execution. Also, this service does not increment task failure counts, as it does not know if the \hyperlink{classwrench_1_1_standard_job_executor_aec6a1864dacefd357399bc058e3ae08f}{kill()} was an actual failure (i.\+e., some timeout) or a feature (i.\+e., a \hyperlink{classwrench_1_1_w_m_s}{W\+MS} changing its mind) 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classwrench_1_1_standard_job_executor_aed90b8b3216347ac11693ade98317eb7}\label{classwrench_1_1_standard_job_executor_aed90b8b3216347ac11693ade98317eb7}} 
\index{wrench\+::\+Standard\+Job\+Executor@{wrench\+::\+Standard\+Job\+Executor}!Standard\+Job\+Executor@{Standard\+Job\+Executor}}
\index{Standard\+Job\+Executor@{Standard\+Job\+Executor}!wrench\+::\+Standard\+Job\+Executor@{wrench\+::\+Standard\+Job\+Executor}}
\subsubsection{\texorpdfstring{Standard\+Job\+Executor()}{StandardJobExecutor()}}
{\footnotesize\ttfamily wrench\+::\+Standard\+Job\+Executor\+::\+Standard\+Job\+Executor (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_simulation}{Simulation} $\ast$}]{simulation,  }\item[{std\+::string}]{callback\+\_\+mailbox,  }\item[{std\+::string}]{hostname,  }\item[{\hyperlink{classwrench_1_1_standard_job}{Standard\+Job} $\ast$}]{job,  }\item[{std\+::map$<$ std\+::string, std\+::tuple$<$ unsigned long, double $>$$>$}]{compute\+\_\+resources,  }\item[{\hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$}]{scratch\+\_\+space,  }\item[{bool}]{part\+\_\+of\+\_\+pilot\+\_\+job,  }\item[{\hyperlink{classwrench_1_1_pilot_job}{Pilot\+Job} $\ast$}]{parent\+\_\+pilot\+\_\+job,  }\item[{std\+::map$<$ std\+::string, std\+::string $>$}]{property\+\_\+list,  }\item[{std\+::map$<$ std\+::string, std\+::string $>$}]{messagepayload\+\_\+list }\end{DoxyParamCaption})}



Constructor. 


\begin{DoxyParams}{Parameters}
{\em simulation} & a reference to a simulation object \\
\hline
{\em callback\+\_\+mailbox} & the mailbox to which a reply will be sent \\
\hline
{\em hostname} & the name of the host on which this service will run (could be the first compute resources -\/ see below) \\
\hline
{\em job} & the standard job to execute \\
\hline
{\em compute\+\_\+resources} & a non-\/empty map of $<$num\+\_\+cores, memory$>$ tuples, indexed by hostname, which represent the compute resources the job should execute on
\begin{DoxyItemize}
\item If num\+\_\+cores == \hyperlink{classwrench_1_1_compute_service_a1160f521623440ad4e0e0823e08a7d22}{Compute\+Service\+::\+A\+L\+L\+\_\+\+C\+O\+R\+ES}, then A\+LL the cores of the host are used
\item If memory == \hyperlink{classwrench_1_1_compute_service_abc4fe0bad59f544b4b34d0e7d4012d44}{Compute\+Service\+::\+A\+L\+L\+\_\+\+R\+AM}, then A\+LL the ram of the host is used 
\end{DoxyItemize}\\
\hline
{\em scratch\+\_\+space} & the usable scratch storage space (or nullptr if none) \\
\hline
{\em part\+\_\+of\+\_\+pilot\+\_\+job} & true if the job executor is running within a pilot job \\
\hline
{\em property\+\_\+list} & a property list \\
\hline
{\em messagepayload\+\_\+list} & a message payload list\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::invalid\+\_\+argument} & \\
\hline
{\em std\+::runtime\+\_\+error} & \\
\hline
\end{DoxyExceptions}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classwrench_1_1_standard_job_executor_ae6ea189c8107ee3c8288185d8e6de8f7}\label{classwrench_1_1_standard_job_executor_ae6ea189c8107ee3c8288185d8e6de8f7}} 
\index{wrench\+::\+Standard\+Job\+Executor@{wrench\+::\+Standard\+Job\+Executor}!get\+Compute\+Resources@{get\+Compute\+Resources}}
\index{get\+Compute\+Resources@{get\+Compute\+Resources}!wrench\+::\+Standard\+Job\+Executor@{wrench\+::\+Standard\+Job\+Executor}}
\subsubsection{\texorpdfstring{get\+Compute\+Resources()}{getComputeResources()}}
{\footnotesize\ttfamily std\+::map$<$ std\+::string, std\+::tuple$<$ unsigned long, double $>$ $>$ wrench\+::\+Standard\+Job\+Executor\+::get\+Compute\+Resources (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the executor\textquotesingle{}s compute resources. 

\begin{DoxyReturn}{Returns}
a set of compute resources as $<$hostname, num cores, bytes of R\+AM$>$ tuples 
\end{DoxyReturn}
\mbox{\Hypertarget{classwrench_1_1_standard_job_executor_a655565a462444bbf5bd6f9fd426f273f}\label{classwrench_1_1_standard_job_executor_a655565a462444bbf5bd6f9fd426f273f}} 
\index{wrench\+::\+Standard\+Job\+Executor@{wrench\+::\+Standard\+Job\+Executor}!get\+Files\+In\+Scratch@{get\+Files\+In\+Scratch}}
\index{get\+Files\+In\+Scratch@{get\+Files\+In\+Scratch}!wrench\+::\+Standard\+Job\+Executor@{wrench\+::\+Standard\+Job\+Executor}}
\subsubsection{\texorpdfstring{get\+Files\+In\+Scratch()}{getFilesInScratch()}}
{\footnotesize\ttfamily std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$ $>$ wrench\+::\+Standard\+Job\+Executor\+::get\+Files\+In\+Scratch (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the set of files stored in scratch space during the standard job\textquotesingle{}s execution. 

\begin{DoxyReturn}{Returns}
a set of files 
\end{DoxyReturn}
\mbox{\Hypertarget{classwrench_1_1_standard_job_executor_ad2a9733a6c1b68007c13f71d75c7805f}\label{classwrench_1_1_standard_job_executor_ad2a9733a6c1b68007c13f71d75c7805f}} 
\index{wrench\+::\+Standard\+Job\+Executor@{wrench\+::\+Standard\+Job\+Executor}!get\+Job@{get\+Job}}
\index{get\+Job@{get\+Job}!wrench\+::\+Standard\+Job\+Executor@{wrench\+::\+Standard\+Job\+Executor}}
\subsubsection{\texorpdfstring{get\+Job()}{getJob()}}
{\footnotesize\ttfamily \hyperlink{classwrench_1_1_standard_job}{Standard\+Job} $\ast$ wrench\+::\+Standard\+Job\+Executor\+::get\+Job (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the executor\textquotesingle{}s job. 

\begin{DoxyReturn}{Returns}
a standard job 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/rafsilva/\+Documents/isi/workspace/wrench/wrench/include/wrench/services/compute/standard\+\_\+job\+\_\+executor/Standard\+Job\+Executor.\+h\item 
/\+Users/rafsilva/\+Documents/isi/workspace/wrench/wrench/src/wrench/services/compute/standard\+\_\+job\+\_\+executor/Standard\+Job\+Executor.\+cpp\end{DoxyCompactItemize}
