\hypertarget{classwrench_1_1_storage_service}{}\section{wrench\+:\+:Storage\+Service Class Reference}
\label{classwrench_1_1_storage_service}\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}


The storage service base class.  




{\ttfamily \#include $<$Storage\+Service.\+h$>$}

Inheritance diagram for wrench\+:\+:Storage\+Service\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{classwrench_1_1_storage_service}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classwrench_1_1_storage_service_a51e58bfcc4e6ff289e1ca00b8243a7af}{Storage\+Service} (const std\+::string \&\hyperlink{classwrench_1_1_s4_u___daemon_a52bc0b9a6cd248310749dac086819f00}{hostname}, const std\+::string \&service\+\_\+name, const std\+::string \&data\+\_\+mailbox\+\_\+name\+\_\+prefix, double \hyperlink{classwrench_1_1_storage_service_aa6697c2288acc1e053268de586ee1861}{capacity})
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_ae26c18fa6afe1df093b4302cb5fc33dd}{copy\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$src, std\+::string src\+\_\+dir, std\+::string dst\+\_\+dir)
\begin{DoxyCompactList}\small\item\em Synchronously ask the storage service to read a file from another storage service. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_acc7859ce8455467718cfb5433cf41c89}{copy\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$src)
\begin{DoxyCompactList}\small\item\em Synchronously ask the storage service to read a file from another storage service. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_a074c6ae7e32c7c47c4da1cc14cebe654}{copy\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$src, \hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$src\+\_\+job, \hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$dst\+\_\+job)
\begin{DoxyCompactList}\small\item\em Synchronously ask the storage service to read a file from another storage service. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_a49becac571e80a1a89f2466cad3fc084}{delete\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, \hyperlink{classwrench_1_1_file_registry_service}{File\+Registry\+Service} $\ast$file\+\_\+registry\+\_\+service=nullptr)
\begin{DoxyCompactList}\small\item\em Synchronously asks the storage service to delete a file copy. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_abc410d2a2155aaa78bea3c38209dcc37}{delete\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, std\+::string dst\+\_\+dir, \hyperlink{classwrench_1_1_file_registry_service}{File\+Registry\+Service} $\ast$file\+\_\+registry\+\_\+service=nullptr)
\begin{DoxyCompactList}\small\item\em Synchronously ask the storage service to delete a file copy. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_a60e3da9c453f18fabaaf0cd92cc2a751}{delete\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, \hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$job, \hyperlink{classwrench_1_1_file_registry_service}{File\+Registry\+Service} $\ast$file\+\_\+registry\+\_\+service=nullptr)
\begin{DoxyCompactList}\small\item\em Synchronously ask the storage service to delete a file copy. \end{DoxyCompactList}\item 
virtual double \hyperlink{classwrench_1_1_storage_service_a600a2fc0da8e1c5f1159509f09c2f2f6}{get\+Free\+Space} ()
\begin{DoxyCompactList}\small\item\em Synchronously asks the storage service for its capacity. \end{DoxyCompactList}\item 
double \hyperlink{classwrench_1_1_storage_service_a0ea24bcd9b320bde776b64dd8e4cd494}{get\+Total\+Space} ()
\begin{DoxyCompactList}\small\item\em Get the total static capacity of the storage service (in zero simulation time) \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_a09b05865c81f22295720776e5952ffd4}{initiate\+File\+Copy} (std\+::string answer\+\_\+mailbox, \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$src, std\+::string src\+\_\+dir, std\+::string dst\+\_\+dir)
\begin{DoxyCompactList}\small\item\em Asynchronously ask the storage service to read a file from another storage service. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_a36f64413afa694b425cf5caad85b4c81}{initiate\+File\+Read} (std\+::string mailbox\+\_\+that\+\_\+should\+\_\+receive\+\_\+file\+\_\+content, \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, std\+::string src\+\_\+dir)
\begin{DoxyCompactList}\small\item\em Asynchronously read a file from the storage service. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classwrench_1_1_storage_service_aa0880c02e803fad5f2b467c91b520519}{lookup\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file)
\begin{DoxyCompactList}\small\item\em Synchronously asks the storage service whether it holds a file. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classwrench_1_1_storage_service_a348189474e741dab4893213b5bcca1d1}{lookup\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, std\+::string dst\+\_\+dir)
\begin{DoxyCompactList}\small\item\em Synchronously asks the storage service whether it holds a file. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classwrench_1_1_storage_service_ac9ab2fe94c4dedec9dbe261206044d6e}{lookup\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, \hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$)
\begin{DoxyCompactList}\small\item\em Synchronously asks the storage service whether it holds a file. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_a3a727ec680b1035a1e46fbddbbfe08bd}{read\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, std\+::string src\+\_\+dir)
\begin{DoxyCompactList}\small\item\em Synchronously read a file from the storage service. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_a42b42928c2d7c1a878453013ea1fb8c3}{read\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file)
\begin{DoxyCompactList}\small\item\em Synchronously read a file from the storage service. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_aa5cc9e820500ba55628a2e603fa7e3a8}{read\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, \hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$job)
\begin{DoxyCompactList}\small\item\em Synchronously read a file from the storage service. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwrench_1_1_storage_service_a1267ad1722291f56532c283658f31acc}\label{classwrench_1_1_storage_service_a1267ad1722291f56532c283658f31acc}} 
void \hyperlink{classwrench_1_1_storage_service_a1267ad1722291f56532c283658f31acc}{stop} ()
\begin{DoxyCompactList}\small\item\em Stop the service. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_a08557ca59c1957548a2b66e518cf174a}{write\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, std\+::string dst\+\_\+dir)
\begin{DoxyCompactList}\small\item\em Synchronously write a file to the storage service. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_a4c157981db2f6408f0de2a2f624c3f85}{write\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file)
\begin{DoxyCompactList}\small\item\em Synchronously write a file to the storage service. \end{DoxyCompactList}\item 
virtual void \hyperlink{classwrench_1_1_storage_service_a60e325584a9a9d450c4c51e8ec7ba96e}{write\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$file, \hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$job)
\begin{DoxyCompactList}\small\item\em Synchronously write a file to the storage service. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{classwrench_1_1_storage_service_ae31dc70a721af8e0adaeaf0462ae0d4c}{delete\+Files} (std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$$>$ files, std\+::map$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$ file\+\_\+locations, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$default\+\_\+storage\+\_\+service)
\begin{DoxyCompactList}\small\item\em Synchronously and sequentially delete a set of files from storage services. \end{DoxyCompactList}\item 
static void \hyperlink{classwrench_1_1_storage_service_a8623c6fdc91a7e698fa5019b0b329de4}{read\+Files} (std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$$>$ files, std\+::map$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$ file\+\_\+locations, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$default\+\_\+storage\+\_\+service, std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$$>$ \&files\+\_\+in\+\_\+scratch, \hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$job=nullptr)
\begin{DoxyCompactList}\small\item\em Synchronously and sequentially read a set of files from storage services. \end{DoxyCompactList}\item 
static void \hyperlink{classwrench_1_1_storage_service_a01359f369729358f030775ae0542bd5a}{write\+Files} (std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$$>$ files, std\+::map$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$ file\+\_\+locations, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$default\+\_\+storage\+\_\+service, std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$$>$ \&files\+\_\+in\+\_\+scratch, \hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$job=nullptr)
\begin{DoxyCompactList}\small\item\em Synchronously and sequentially upload a set of files from storage services. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classwrench_1_1_storage_service_a3eb93f5b38d6478ce1b6a43df1693234}{remove\+File\+From\+Storage} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, std\+::string)
\begin{DoxyCompactList}\small\item\em Remove a file from storage (internal method) \end{DoxyCompactList}\item 
void \hyperlink{classwrench_1_1_storage_service_ac054adcdeaf23cc0b8451df7926e8ae0}{stage\+File} (\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$)
\begin{DoxyCompactList}\small\item\em Store a file on the storage service B\+E\+F\+O\+RE the simulation is launched. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classwrench_1_1_storage_service_aa6697c2288acc1e053268de586ee1861}\label{classwrench_1_1_storage_service_aa6697c2288acc1e053268de586ee1861}} 
double \hyperlink{classwrench_1_1_storage_service_aa6697c2288acc1e053268de586ee1861}{capacity}
\begin{DoxyCompactList}\small\item\em The storage service\textquotesingle{}s capacity. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwrench_1_1_storage_service_a62d4189d6a8698a4b55d4efe66495a04}\label{classwrench_1_1_storage_service_a62d4189d6a8698a4b55d4efe66495a04}} 
double \hyperlink{classwrench_1_1_storage_service_a62d4189d6a8698a4b55d4efe66495a04}{occupied\+\_\+space} = 0
\begin{DoxyCompactList}\small\item\em The storage service\textquotesingle{}s occupied space. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwrench_1_1_storage_service_a99675a336b15ef3138af2e33c38bc56d}\label{classwrench_1_1_storage_service_a99675a336b15ef3138af2e33c38bc56d}} 
std\+::map$<$ std\+::string, std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$ $>$ $>$ \hyperlink{classwrench_1_1_storage_service_a99675a336b15ef3138af2e33c38bc56d}{stored\+\_\+files}
\begin{DoxyCompactList}\small\item\em The map of file directories and the set of files stored on those directories inside the storage service. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
The storage service base class. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a51e58bfcc4e6ff289e1ca00b8243a7af}\label{classwrench_1_1_storage_service_a51e58bfcc4e6ff289e1ca00b8243a7af}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!Storage\+Service@{Storage\+Service}}
\index{Storage\+Service@{Storage\+Service}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{Storage\+Service()}{StorageService()}}
{\footnotesize\ttfamily wrench\+::\+Storage\+Service\+::\+Storage\+Service (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{hostname,  }\item[{const std\+::string \&}]{service\+\_\+name,  }\item[{const std\+::string \&}]{mailbox\+\_\+name\+\_\+prefix,  }\item[{double}]{capacity }\end{DoxyParamCaption})}



Constructor. 


\begin{DoxyParams}{Parameters}
{\em hostname} & the name of the host on which the service should run \\
\hline
{\em service\+\_\+name} & the name of the storage service \\
\hline
{\em mailbox\+\_\+name\+\_\+prefix} & the mailbox name prefix \\
\hline
{\em capacity} & the storage capacity in bytes \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classwrench_1_1_storage_service_ae26c18fa6afe1df093b4302cb5fc33dd}\label{classwrench_1_1_storage_service_ae26c18fa6afe1df093b4302cb5fc33dd}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!copy\+File@{copy\+File}}
\index{copy\+File@{copy\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{copy\+File()}{copyFile()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::copy\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{\hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$}]{src,  }\item[{std\+::string}]{src\+\_\+partition,  }\item[{std\+::string}]{dst\+\_\+partition }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously ask the storage service to read a file from another storage service. 


\begin{DoxyParams}{Parameters}
{\em file} & the file to copy \\
\hline
{\em src} & the storage service from which to read the file \\
\hline
{\em src\+\_\+partition} & the partition in which the file will be read \\
\hline
{\em dst\+\_\+partition} & the partition in which the file will be written \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::runtime\+\_\+error} & \\
\hline
{\em std\+::invalid\+\_\+argument} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_acc7859ce8455467718cfb5433cf41c89}\label{classwrench_1_1_storage_service_acc7859ce8455467718cfb5433cf41c89}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!copy\+File@{copy\+File}}
\index{copy\+File@{copy\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{copy\+File()}{copyFile()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::copy\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{\hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$}]{src }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously ask the storage service to read a file from another storage service. 


\begin{DoxyParams}{Parameters}
{\em file} & the file to copy \\
\hline
{\em src} & the storage service from which to read the file \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::invalid\+\_\+argument} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a074c6ae7e32c7c47c4da1cc14cebe654}\label{classwrench_1_1_storage_service_a074c6ae7e32c7c47c4da1cc14cebe654}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!copy\+File@{copy\+File}}
\index{copy\+File@{copy\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{copy\+File()}{copyFile()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::copy\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{\hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$}]{src,  }\item[{\hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$}]{src\+\_\+job,  }\item[{\hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$}]{dst\+\_\+job }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously ask the storage service to read a file from another storage service. 


\begin{DoxyParams}{Parameters}
{\em file} & the file to copy \\
\hline
{\em src} & the storage service from which to read the file \\
\hline
{\em src\+\_\+job} & the job from whose partition we are copying this file \\
\hline
{\em dst\+\_\+job} & the job to whose partition we are copying this file \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::invalid\+\_\+argument} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a49becac571e80a1a89f2466cad3fc084}\label{classwrench_1_1_storage_service_a49becac571e80a1a89f2466cad3fc084}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!delete\+File@{delete\+File}}
\index{delete\+File@{delete\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{delete\+File()}{deleteFile()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::delete\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{\hyperlink{classwrench_1_1_file_registry_service}{File\+Registry\+Service} $\ast$}]{file\+\_\+registry\+\_\+service = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously asks the storage service to delete a file copy. 


\begin{DoxyParams}{Parameters}
{\em file} & the file \\
\hline
{\em file\+\_\+registry\+\_\+service} & a file registry service that should be updated once the file deletion has (successfully) completed (none if nullptr)\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::runtime\+\_\+error} & \\
\hline
{\em std\+::invalid\+\_\+argument} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_abc410d2a2155aaa78bea3c38209dcc37}\label{classwrench_1_1_storage_service_abc410d2a2155aaa78bea3c38209dcc37}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!delete\+File@{delete\+File}}
\index{delete\+File@{delete\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{delete\+File()}{deleteFile()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::delete\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{std\+::string}]{dst\+\_\+partition,  }\item[{\hyperlink{classwrench_1_1_file_registry_service}{File\+Registry\+Service} $\ast$}]{file\+\_\+registry\+\_\+service = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously ask the storage service to delete a file copy. 


\begin{DoxyParams}{Parameters}
{\em file} & the file \\
\hline
{\em dst\+\_\+partition} & the partition in which to delete the file \\
\hline
{\em file\+\_\+registry\+\_\+service} & a file registry service that should be updated once the file deletion has (successfully) completed (none if nullptr)\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::runtime\+\_\+error} & \\
\hline
{\em std\+::invalid\+\_\+argument} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a60e3da9c453f18fabaaf0cd92cc2a751}\label{classwrench_1_1_storage_service_a60e3da9c453f18fabaaf0cd92cc2a751}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!delete\+File@{delete\+File}}
\index{delete\+File@{delete\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{delete\+File()}{deleteFile()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::delete\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{\hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$}]{job,  }\item[{\hyperlink{classwrench_1_1_file_registry_service}{File\+Registry\+Service} $\ast$}]{file\+\_\+registry\+\_\+service = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously ask the storage service to delete a file copy. 


\begin{DoxyParams}{Parameters}
{\em file} & the file \\
\hline
{\em job} & the job associated to deleting this file \\
\hline
{\em file\+\_\+registry\+\_\+service} & a file registry service that should be updated once the file deletion has (successfully) completed (none if nullptr)\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::runtime\+\_\+error} & \\
\hline
{\em std\+::invalid\+\_\+argument} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_ae31dc70a721af8e0adaeaf0462ae0d4c}\label{classwrench_1_1_storage_service_ae31dc70a721af8e0adaeaf0462ae0d4c}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!delete\+Files@{delete\+Files}}
\index{delete\+Files@{delete\+Files}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{delete\+Files()}{deleteFiles()}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::delete\+Files (\begin{DoxyParamCaption}\item[{std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$$>$}]{files,  }\item[{std\+::map$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$}]{file\+\_\+locations,  }\item[{\hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$}]{default\+\_\+storage\+\_\+service }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Synchronously and sequentially delete a set of files from storage services. 


\begin{DoxyParams}{Parameters}
{\em files} & the set of files to delete \\
\hline
{\em file\+\_\+locations} & a map of files to storage services (all must be in the \char`\"{}/\char`\"{} partition of their storage services) \\
\hline
{\em default\+\_\+storage\+\_\+service} & the storage service to use when files don\textquotesingle{}t appear in the file\+\_\+locations map (or nullptr if none)\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::runtime\+\_\+error} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a600a2fc0da8e1c5f1159509f09c2f2f6}\label{classwrench_1_1_storage_service_a600a2fc0da8e1c5f1159509f09c2f2f6}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!get\+Free\+Space@{get\+Free\+Space}}
\index{get\+Free\+Space@{get\+Free\+Space}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{get\+Free\+Space()}{getFreeSpace()}}
{\footnotesize\ttfamily double wrench\+::\+Storage\+Service\+::get\+Free\+Space (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously asks the storage service for its capacity. 

\begin{DoxyReturn}{Returns}
The free space in bytes
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::runtime\+\_\+error} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a0ea24bcd9b320bde776b64dd8e4cd494}\label{classwrench_1_1_storage_service_a0ea24bcd9b320bde776b64dd8e4cd494}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!get\+Total\+Space@{get\+Total\+Space}}
\index{get\+Total\+Space@{get\+Total\+Space}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{get\+Total\+Space()}{getTotalSpace()}}
{\footnotesize\ttfamily double wrench\+::\+Storage\+Service\+::get\+Total\+Space (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the total static capacity of the storage service (in zero simulation time) 

\begin{DoxyReturn}{Returns}
capacity of the storage service (double) 
\end{DoxyReturn}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a09b05865c81f22295720776e5952ffd4}\label{classwrench_1_1_storage_service_a09b05865c81f22295720776e5952ffd4}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!initiate\+File\+Copy@{initiate\+File\+Copy}}
\index{initiate\+File\+Copy@{initiate\+File\+Copy}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{initiate\+File\+Copy()}{initiateFileCopy()}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::initiate\+File\+Copy (\begin{DoxyParamCaption}\item[{std\+::string}]{answer\+\_\+mailbox,  }\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{\hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$}]{src,  }\item[{std\+::string}]{src\+\_\+partition,  }\item[{std\+::string}]{dst\+\_\+partition }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Asynchronously ask the storage service to read a file from another storage service. 


\begin{DoxyParams}{Parameters}
{\em answer\+\_\+mailbox} & the mailbox to which a notification message will be sent \\
\hline
{\em file} & the file \\
\hline
{\em src} & the storage service from which to read the file \\
\hline
{\em src\+\_\+partition} & the source partition \\
\hline
{\em dst\+\_\+partition} & the destination partition\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::invalid\+\_\+argument} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a36f64413afa694b425cf5caad85b4c81}\label{classwrench_1_1_storage_service_a36f64413afa694b425cf5caad85b4c81}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!initiate\+File\+Read@{initiate\+File\+Read}}
\index{initiate\+File\+Read@{initiate\+File\+Read}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{initiate\+File\+Read()}{initiateFileRead()}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::initiate\+File\+Read (\begin{DoxyParamCaption}\item[{std\+::string}]{mailbox\+\_\+that\+\_\+should\+\_\+receive\+\_\+file\+\_\+content,  }\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{std\+::string}]{src\+\_\+partition }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Asynchronously read a file from the storage service. 


\begin{DoxyParams}{Parameters}
{\em mailbox\+\_\+that\+\_\+should\+\_\+receive\+\_\+file\+\_\+content} & the mailbox to which the file should be sent \\
\hline
{\em file} & the file \\
\hline
{\em src\+\_\+partition} & the partition in which the file will be read\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::runtime\+\_\+error} & \\
\hline
{\em std\+::invalid\+\_\+arguments} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_aa0880c02e803fad5f2b467c91b520519}\label{classwrench_1_1_storage_service_aa0880c02e803fad5f2b467c91b520519}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!lookup\+File@{lookup\+File}}
\index{lookup\+File@{lookup\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{lookup\+File()}{lookupFile()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily bool wrench\+::\+Storage\+Service\+::lookup\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously asks the storage service whether it holds a file. 


\begin{DoxyParams}{Parameters}
{\em file} & the file\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true or false
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::invalid\+\_\+arguments} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a348189474e741dab4893213b5bcca1d1}\label{classwrench_1_1_storage_service_a348189474e741dab4893213b5bcca1d1}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!lookup\+File@{lookup\+File}}
\index{lookup\+File@{lookup\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{lookup\+File()}{lookupFile()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily bool wrench\+::\+Storage\+Service\+::lookup\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{std\+::string}]{dst\+\_\+partition }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously asks the storage service whether it holds a file. 


\begin{DoxyParams}{Parameters}
{\em file} & the file \\
\hline
{\em dst\+\_\+partition} & the partition in which to perform the lookup\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true or false
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::runtime\+\_\+error} & \\
\hline
{\em std\+::invalid\+\_\+arguments} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_ac9ab2fe94c4dedec9dbe261206044d6e}\label{classwrench_1_1_storage_service_ac9ab2fe94c4dedec9dbe261206044d6e}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!lookup\+File@{lookup\+File}}
\index{lookup\+File@{lookup\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{lookup\+File()}{lookupFile()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily bool wrench\+::\+Storage\+Service\+::lookup\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{\hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$}]{job }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously asks the storage service whether it holds a file. 


\begin{DoxyParams}{Parameters}
{\em file} & the file \\
\hline
{\em job} & the job for whom we are doing the look up, the file is stored in this job\textquotesingle{}s partition\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true or false
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::invalid\+\_\+arguments} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a3a727ec680b1035a1e46fbddbbfe08bd}\label{classwrench_1_1_storage_service_a3a727ec680b1035a1e46fbddbbfe08bd}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!read\+File@{read\+File}}
\index{read\+File@{read\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{read\+File()}{readFile()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::read\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{std\+::string}]{src\+\_\+partition }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously read a file from the storage service. 


\begin{DoxyParams}{Parameters}
{\em file} & the file \\
\hline
{\em src\+\_\+partition} & the partition from which to read the file\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::runtime\+\_\+error} & \\
\hline
{\em std\+::invalid\+\_\+arguments} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a42b42928c2d7c1a878453013ea1fb8c3}\label{classwrench_1_1_storage_service_a42b42928c2d7c1a878453013ea1fb8c3}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!read\+File@{read\+File}}
\index{read\+File@{read\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{read\+File()}{readFile()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::read\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously read a file from the storage service. 


\begin{DoxyParams}{Parameters}
{\em file} & the file\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::invalid\+\_\+arguments} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_aa5cc9e820500ba55628a2e603fa7e3a8}\label{classwrench_1_1_storage_service_aa5cc9e820500ba55628a2e603fa7e3a8}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!read\+File@{read\+File}}
\index{read\+File@{read\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{read\+File()}{readFile()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::read\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{\hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$}]{job }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously read a file from the storage service. 


\begin{DoxyParams}{Parameters}
{\em file} & the file \\
\hline
{\em job} & the job associated to the read of the workflow file\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::invalid\+\_\+arguments} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a8623c6fdc91a7e698fa5019b0b329de4}\label{classwrench_1_1_storage_service_a8623c6fdc91a7e698fa5019b0b329de4}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!read\+Files@{read\+Files}}
\index{read\+Files@{read\+Files}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{read\+Files()}{readFiles()}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::read\+Files (\begin{DoxyParamCaption}\item[{std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$$>$}]{files,  }\item[{std\+::map$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$}]{file\+\_\+locations,  }\item[{\hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$}]{default\+\_\+storage\+\_\+service,  }\item[{std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$$>$ \&}]{files\+\_\+in\+\_\+scratch,  }\item[{\hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$}]{job = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Synchronously and sequentially read a set of files from storage services. 


\begin{DoxyParams}{Parameters}
{\em files} & the set of files to read \\
\hline
{\em file\+\_\+locations} & a map of files to storage services \\
\hline
{\em default\+\_\+storage\+\_\+service} & the storage service to use when files don\textquotesingle{}t appear in the file\+\_\+locations map (which must be a compute service\textquotesingle{}s scratch storage) \\
\hline
{\em files\+\_\+in\+\_\+scratch} & the set of files that have been written to the default storage service (which must be a compute service\textquotesingle{}s scratch storage) \\
\hline
{\em job} & the job which is doing the read of the files\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & \\
\hline
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a3eb93f5b38d6478ce1b6a43df1693234}\label{classwrench_1_1_storage_service_a3eb93f5b38d6478ce1b6a43df1693234}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!remove\+File\+From\+Storage@{remove\+File\+From\+Storage}}
\index{remove\+File\+From\+Storage@{remove\+File\+From\+Storage}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{remove\+File\+From\+Storage()}{removeFileFromStorage()}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::remove\+File\+From\+Storage (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{std\+::string}]{dst\+\_\+partition }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Remove a file from storage (internal method) 


\begin{DoxyParams}{Parameters}
{\em file} & a file \\
\hline
{\em dst\+\_\+partition} & the partition in which the file will be deleted\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_ac054adcdeaf23cc0b8451df7926e8ae0}\label{classwrench_1_1_storage_service_ac054adcdeaf23cc0b8451df7926e8ae0}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!stage\+File@{stage\+File}}
\index{stage\+File@{stage\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{stage\+File()}{stageFile()}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::stage\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Store a file on the storage service B\+E\+F\+O\+RE the simulation is launched. 


\begin{DoxyParams}{Parameters}
{\em file} & a file\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::invalid\+\_\+argument} & \\
\hline
{\em std\+::runtime\+\_\+error} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a08557ca59c1957548a2b66e518cf174a}\label{classwrench_1_1_storage_service_a08557ca59c1957548a2b66e518cf174a}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!write\+File@{write\+File}}
\index{write\+File@{write\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{write\+File()}{writeFile()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::write\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{std\+::string}]{dst\+\_\+partition }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously write a file to the storage service. 


\begin{DoxyParams}{Parameters}
{\em file} & the file \\
\hline
{\em dst\+\_\+partition} & the partition in which to write the file\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
{\em std\+::runtime\+\_\+error} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a4c157981db2f6408f0de2a2f624c3f85}\label{classwrench_1_1_storage_service_a4c157981db2f6408f0de2a2f624c3f85}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!write\+File@{write\+File}}
\index{write\+File@{write\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{write\+File()}{writeFile()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::write\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously write a file to the storage service. 


\begin{DoxyParams}{Parameters}
{\em file} & the file\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a60e325584a9a9d450c4c51e8ec7ba96e}\label{classwrench_1_1_storage_service_a60e325584a9a9d450c4c51e8ec7ba96e}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!write\+File@{write\+File}}
\index{write\+File@{write\+File}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{write\+File()}{writeFile()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::write\+File (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$}]{file,  }\item[{\hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$}]{job }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Synchronously write a file to the storage service. 


\begin{DoxyParams}{Parameters}
{\em file} & the file \\
\hline
{\em job} & the job associated to the write of the workflow file\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_storage_service_a01359f369729358f030775ae0542bd5a}\label{classwrench_1_1_storage_service_a01359f369729358f030775ae0542bd5a}} 
\index{wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}!write\+Files@{write\+Files}}
\index{write\+Files@{write\+Files}!wrench\+::\+Storage\+Service@{wrench\+::\+Storage\+Service}}
\subsubsection{\texorpdfstring{write\+Files()}{writeFiles()}}
{\footnotesize\ttfamily void wrench\+::\+Storage\+Service\+::write\+Files (\begin{DoxyParamCaption}\item[{std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$$>$}]{files,  }\item[{std\+::map$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$}]{file\+\_\+locations,  }\item[{\hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$}]{default\+\_\+storage\+\_\+service,  }\item[{std\+::set$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$$>$ \&}]{files\+\_\+in\+\_\+scratch,  }\item[{\hyperlink{classwrench_1_1_workflow_job}{Workflow\+Job} $\ast$}]{job = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Synchronously and sequentially upload a set of files from storage services. 


\begin{DoxyParams}{Parameters}
{\em files} & the set of files to write \\
\hline
{\em file\+\_\+locations} & a map of files to storage services \\
\hline
{\em default\+\_\+storage\+\_\+service} & the storage service to use when files don\textquotesingle{}t appear in the file\+\_\+locations map (which must be a compute service\textquotesingle{}s scratch storage) \\
\hline
{\em files\+\_\+in\+\_\+scratch} & the set of files that have been writted to the default storage service (which must be a compute service\textquotesingle{}s scratch storage) \\
\hline
{\em job} & the job which is doing the write of the files\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & \\
\hline
{\em \hyperlink{classwrench_1_1_workflow_execution_exception}{Workflow\+Execution\+Exception}} & \\
\hline
\end{DoxyExceptions}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/rafsilva/\+Documents/isi/workspace/wrench/wrench/include/wrench/services/storage/Storage\+Service.\+h\item 
/\+Users/rafsilva/\+Documents/isi/workspace/wrench/wrench/src/wrench/services/storage/Storage\+Service.\+cpp\end{DoxyCompactItemize}
