\hypertarget{classwrench_1_1_workunit}{}\section{wrench\+:\+:Workunit Class Reference}
\label{classwrench_1_1_workunit}\index{wrench\+::\+Workunit@{wrench\+::\+Workunit}}


A class to describe a unit of work that\textquotesingle{}s a sub-\/component of a \hyperlink{classwrench_1_1_standard_job}{Standard\+Job}.  




{\ttfamily \#include $<$Workunit.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classwrench_1_1_workunit_a91afa9973889dd717d7ee6428ce8d697}{Workunit} (\hyperlink{classwrench_1_1_standard_job}{Standard\+Job} $\ast$\hyperlink{classwrench_1_1_workunit_a2264928b16909aad8408251ce44cafb7}{job}, std\+::set$<$ std\+::tuple$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$$>$ \hyperlink{classwrench_1_1_workunit_a6010b01e695180b8b38cc8cf2670a19c}{pre\+\_\+file\+\_\+copies}, \hyperlink{classwrench_1_1_workflow_task}{Workflow\+Task} $\ast$\hyperlink{classwrench_1_1_workunit_a7639e2dcd02bff9f64682279305a7f6a}{task}, std\+::map$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$ \hyperlink{classwrench_1_1_workunit_a612ab0529438becbfe6919458de795ae}{file\+\_\+locations}, std\+::set$<$ std\+::tuple$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$$>$ \hyperlink{classwrench_1_1_workunit_a0bd150508109344de5da6284f591a83d}{post\+\_\+file\+\_\+copies}, std\+::set$<$ std\+::tuple$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$$>$ \hyperlink{classwrench_1_1_workunit_a65f7cd5374d51a809c89319d8d9895ed}{cleanup\+\_\+file\+\_\+deletions})
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{classwrench_1_1_standard_job}{Standard\+Job} $\ast$ \hyperlink{classwrench_1_1_workunit_a84e73108e9516bf7abfb6c136ef8bbc1}{get\+Job} ()
\begin{DoxyCompactList}\small\item\em Retrieve the standard job this workunit belongs to. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{classwrench_1_1_workunit_a7c9db9b0a53c44844bb7ee2c761eed47}{add\+Dependency} (\hyperlink{classwrench_1_1_workunit}{Workunit} $\ast$parent, \hyperlink{classwrench_1_1_workunit}{Workunit} $\ast$child)
\begin{DoxyCompactList}\small\item\em Add a dependency between two work units (does nothing if the dependency already exists) \end{DoxyCompactList}\item 
static std\+::set$<$ std\+::unique\+\_\+ptr$<$ \hyperlink{classwrench_1_1_workunit}{Workunit} $>$ $>$ \hyperlink{classwrench_1_1_workunit_ad48a60254d823c530273f793611bdfc2}{create\+Workunits} (\hyperlink{classwrench_1_1_standard_job}{Standard\+Job} $\ast$\hyperlink{classwrench_1_1_workunit_a2264928b16909aad8408251ce44cafb7}{job})
\begin{DoxyCompactList}\small\item\em Create all work for a newly dispatched job. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classwrench_1_1_workunit_ad4a4a74cd0e2c687595494fa0e7b0d3e}\label{classwrench_1_1_workunit_ad4a4a74cd0e2c687595494fa0e7b0d3e}} 
std\+::set$<$ \hyperlink{classwrench_1_1_workunit}{Workunit} $\ast$ $>$ \hyperlink{classwrench_1_1_workunit_ad4a4a74cd0e2c687595494fa0e7b0d3e}{children}
\begin{DoxyCompactList}\small\item\em The Workunits that depend on this \hyperlink{classwrench_1_1_workunit}{Workunit}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwrench_1_1_workunit_a65f7cd5374d51a809c89319d8d9895ed}\label{classwrench_1_1_workunit_a65f7cd5374d51a809c89319d8d9895ed}} 
std\+::set$<$ std\+::tuple$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$ $>$ $>$ \hyperlink{classwrench_1_1_workunit_a65f7cd5374d51a809c89319d8d9895ed}{cleanup\+\_\+file\+\_\+deletions}
\begin{DoxyCompactList}\small\item\em File deletions to perform last. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwrench_1_1_workunit_a612ab0529438becbfe6919458de795ae}\label{classwrench_1_1_workunit_a612ab0529438becbfe6919458de795ae}} 
std\+::map$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$ $>$ \hyperlink{classwrench_1_1_workunit_a612ab0529438becbfe6919458de795ae}{file\+\_\+locations}
\begin{DoxyCompactList}\small\item\em Locations where computational tasks should read/write files. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwrench_1_1_workunit_a2264928b16909aad8408251ce44cafb7}\label{classwrench_1_1_workunit_a2264928b16909aad8408251ce44cafb7}} 
\hyperlink{classwrench_1_1_standard_job}{Standard\+Job} $\ast$ \hyperlink{classwrench_1_1_workunit_a2264928b16909aad8408251ce44cafb7}{job}
\begin{DoxyCompactList}\small\item\em The \hyperlink{classwrench_1_1_standard_job}{Standard\+Job} this \hyperlink{classwrench_1_1_workunit}{Workunit} belongs to. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwrench_1_1_workunit_aebb7c84be20b163a11dc0ecf4d4aa4f6}\label{classwrench_1_1_workunit_aebb7c84be20b163a11dc0ecf4d4aa4f6}} 
unsigned long \hyperlink{classwrench_1_1_workunit_aebb7c84be20b163a11dc0ecf4d4aa4f6}{num\+\_\+pending\+\_\+parents}
\begin{DoxyCompactList}\small\item\em The number of Workunits this \hyperlink{classwrench_1_1_workunit}{Workunit} depends on. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwrench_1_1_workunit_a0bd150508109344de5da6284f591a83d}\label{classwrench_1_1_workunit_a0bd150508109344de5da6284f591a83d}} 
std\+::set$<$ std\+::tuple$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$ $>$ $>$ \hyperlink{classwrench_1_1_workunit_a0bd150508109344de5da6284f591a83d}{post\+\_\+file\+\_\+copies}
\begin{DoxyCompactList}\small\item\em File copies to perform after computational tasks completes. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwrench_1_1_workunit_a6010b01e695180b8b38cc8cf2670a19c}\label{classwrench_1_1_workunit_a6010b01e695180b8b38cc8cf2670a19c}} 
std\+::set$<$ std\+::tuple$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$ $>$ $>$ \hyperlink{classwrench_1_1_workunit_a6010b01e695180b8b38cc8cf2670a19c}{pre\+\_\+file\+\_\+copies}
\begin{DoxyCompactList}\small\item\em File copies to perform before computational tasks begin. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classwrench_1_1_workunit_a7639e2dcd02bff9f64682279305a7f6a}\label{classwrench_1_1_workunit_a7639e2dcd02bff9f64682279305a7f6a}} 
\hyperlink{classwrench_1_1_workflow_task}{Workflow\+Task} $\ast$ \hyperlink{classwrench_1_1_workunit_a7639e2dcd02bff9f64682279305a7f6a}{task} = nullptr
\begin{DoxyCompactList}\small\item\em Computational task to perform. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
A class to describe a unit of work that\textquotesingle{}s a sub-\/component of a \hyperlink{classwrench_1_1_standard_job}{Standard\+Job}. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classwrench_1_1_workunit_a91afa9973889dd717d7ee6428ce8d697}\label{classwrench_1_1_workunit_a91afa9973889dd717d7ee6428ce8d697}} 
\index{wrench\+::\+Workunit@{wrench\+::\+Workunit}!Workunit@{Workunit}}
\index{Workunit@{Workunit}!wrench\+::\+Workunit@{wrench\+::\+Workunit}}
\subsubsection{\texorpdfstring{Workunit()}{Workunit()}}
{\footnotesize\ttfamily wrench\+::\+Workunit\+::\+Workunit (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_standard_job}{Standard\+Job} $\ast$}]{job,  }\item[{std\+::set$<$ std\+::tuple$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$$>$}]{pre\+\_\+file\+\_\+copies,  }\item[{\hyperlink{classwrench_1_1_workflow_task}{Workflow\+Task} $\ast$}]{task,  }\item[{std\+::map$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$}]{file\+\_\+locations,  }\item[{std\+::set$<$ std\+::tuple$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$$>$}]{post\+\_\+file\+\_\+copies,  }\item[{std\+::set$<$ std\+::tuple$<$ \hyperlink{classwrench_1_1_workflow_file}{Workflow\+File} $\ast$, \hyperlink{classwrench_1_1_storage_service}{Storage\+Service} $\ast$$>$$>$}]{cleanup\+\_\+file\+\_\+deletions }\end{DoxyParamCaption})}



Constructor. 


\begin{DoxyParams}{Parameters}
{\em job} & the job this workunit belongs to \\
\hline
{\em pre\+\_\+file\+\_\+copies} & a set of file copy actions to perform in sequence first \\
\hline
{\em task} & a \hyperlink{classwrench_1_1_workflow_task}{Workflow\+Task} \\
\hline
{\em file\+\_\+locations} & locations where tasks should read/write files \\
\hline
{\em post\+\_\+file\+\_\+copies} & a set of file copy actions to perform in sequence after all tasks \\
\hline
{\em cleanup\+\_\+file\+\_\+deletions} & a set of file deletion actions to perform last \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classwrench_1_1_workunit_a7c9db9b0a53c44844bb7ee2c761eed47}\label{classwrench_1_1_workunit_a7c9db9b0a53c44844bb7ee2c761eed47}} 
\index{wrench\+::\+Workunit@{wrench\+::\+Workunit}!add\+Dependency@{add\+Dependency}}
\index{add\+Dependency@{add\+Dependency}!wrench\+::\+Workunit@{wrench\+::\+Workunit}}
\subsubsection{\texorpdfstring{add\+Dependency()}{addDependency()}}
{\footnotesize\ttfamily void wrench\+::\+Workunit\+::add\+Dependency (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_workunit}{Workunit} $\ast$}]{parent,  }\item[{\hyperlink{classwrench_1_1_workunit}{Workunit} $\ast$}]{child }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Add a dependency between two work units (does nothing if the dependency already exists) 


\begin{DoxyParams}{Parameters}
{\em parent} & the parent work unit \\
\hline
{\em child} & the child work unit\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::invalid\+\_\+argument} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classwrench_1_1_workunit_ad48a60254d823c530273f793611bdfc2}\label{classwrench_1_1_workunit_ad48a60254d823c530273f793611bdfc2}} 
\index{wrench\+::\+Workunit@{wrench\+::\+Workunit}!create\+Workunits@{create\+Workunits}}
\index{create\+Workunits@{create\+Workunits}!wrench\+::\+Workunit@{wrench\+::\+Workunit}}
\subsubsection{\texorpdfstring{create\+Workunits()}{createWorkunits()}}
{\footnotesize\ttfamily std\+::set$<$ std\+::unique\+\_\+ptr$<$ \hyperlink{classwrench_1_1_workunit}{Workunit} $>$ $>$ wrench\+::\+Workunit\+::create\+Workunits (\begin{DoxyParamCaption}\item[{\hyperlink{classwrench_1_1_standard_job}{Standard\+Job} $\ast$}]{job }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create all work for a newly dispatched job. 


\begin{DoxyParams}{Parameters}
{\em job} & the job \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classwrench_1_1_workunit_a84e73108e9516bf7abfb6c136ef8bbc1}\label{classwrench_1_1_workunit_a84e73108e9516bf7abfb6c136ef8bbc1}} 
\index{wrench\+::\+Workunit@{wrench\+::\+Workunit}!get\+Job@{get\+Job}}
\index{get\+Job@{get\+Job}!wrench\+::\+Workunit@{wrench\+::\+Workunit}}
\subsubsection{\texorpdfstring{get\+Job()}{getJob()}}
{\footnotesize\ttfamily \hyperlink{classwrench_1_1_standard_job}{Standard\+Job} $\ast$ wrench\+::\+Workunit\+::get\+Job (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Retrieve the standard job this workunit belongs to. 

\begin{DoxyReturn}{Returns}
a standard job 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/rafsilva/\+Documents/isi/workspace/wrench/wrench/include/wrench/services/compute/workunit\+\_\+executor/Workunit.\+h\item 
/\+Users/rafsilva/\+Documents/isi/workspace/wrench/wrench/src/wrench/services/compute/work\+\_\+unit\+\_\+executor/Workunit.\+cpp\end{DoxyCompactItemize}
