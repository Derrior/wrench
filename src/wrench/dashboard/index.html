<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Wrench Dashboard</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="public/scripts.js"></script>
        <script src="public/bootstrap.min.css"></script>
        <link rel="stylesheet" href="public/bootstrap.min.css">
        <link rel="stylesheet" href="public/styles.css">
        <link rel="icon" href="public/favicon.ico" />
        <script src="public/d3.min.js" type="text/javascript"></script>
        <!-- <script
            src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script> -->
    </head>
    <body>
        <div id='overall-container'>
            <div id='info-container'>
                <img src='public/logo-vertical.png' id=logo>
                <h3>Wrench Dashboard</h3>
                <p id='updated'></p>
            </div>
            <div class="container legend" id="workflow-execution-chart-legend">
                <small>Legend:</small> 
                <small class="inline-block" id="workflow-execution-chart-legend-read-input">Reading Input</small>
                <small class="inline-block" id="workflow-execution-chart-legend-computation">Performing Computation</small>
                <small class="inline-block" id="workflow-execution-chart-legend-write-output">Writing Output</small>
                <small class="inline-block" id="workflow-execution-chart-legend-failed">Failed During Execution</small>
                <small class="inline-block" id="workflow-execution-chart-legend-terminated">Terminated by User</small>
            </div>
            <div id="graph-container" style="height:1000px;">
                <div class="text-left" id="tooltip-container">
                    <span id="tooltip-task-id"></span><br>
                    <span id="tooltip-task-operation"></span><br>
                    <span id="tooltip-task-operation-duration"></span>
                </div>
            </div>
        </div>
        <table class="task-details-table">
            <colgroup>
                <col span="1"></col>
                <col span="3" class="read-col"></col>
                <col span="3" class="compute-col"></col>
                <col span="3" class="write-col"></col>
                <col span="1"></col>
            </colgroup>
            <thead class="task-details-table">
                <tr>
                    <td></td>
                    <td colspan="3" class="text-center">Read Input</td>
                    <td colspan="3" class="text-center">Computation</td>
                    <td colspan="3" class="text-center">Write Output</td>
                    <td></td>
                </tr>
                <tr>
                    <th scope="col">TaskID</th>
                    <th scope="col">Start Time</th>
                    <th scope="col">End Time</th>
                    <th scope="col">Duration</th>
                    <th scope="col">Start Time</th>
                    <th scope="col">End Time</th>
                    <th scope="col">Duration</th>
                    <th scope="col">Start Time</th>
                    <th scope="col">End Time</th>
                    <th scope="col">Duration</th>
                    <th scope="col">Task Duration</th>
                </tr>
            </thead>

            <tbody class="task-details-table">

            </tbody>
        </table>
    </body>
    <script>
        populateMetadata()
        generateGraph(data.contents, "graph-container")
        populateWorkflowTaskDataTable(data.contents)
    </script>
</html>